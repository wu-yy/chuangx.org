<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="ThemeBucket">
  <link rel="shortcut icon" href="#" type="image/png">

  <title>Dynamic Table</title>

  <!--dynamic table-->

  <link rel="stylesheet" type="text/css" href="__PUBLIC__/houtaikecheng/js/bootstrap-datetimepicker/css/datetimepicker-custom.css" />
  <link href="__PUBLIC__/houtaikecheng/css/style.css" rel="stylesheet">
  <link href="__PUBLIC__/houtaikecheng/css/style-responsive.css" rel="stylesheet">

   <script src="__PUBLIC__/js/index/jquery1.9.1.js" type="text/javascript"></script>
   
   

<style>
.datainp{ width:200px; height:30px; border:1px #ccc solid;}
.datep{ margin-bottom:40px;}
.panel-body form{ margin-left:40px !important;}
.form-group input{ width:40%;}

body{font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;font-size: 14px;line-height: 1.42857;
color: #333;}
.table{ overflow:hidden; margin-bottom:-10px !important; }
.table li input{ width:auto; float:left; margin-bottom:10px; margin-left:5px;border-radius:3px 0px 0px 3px; }
.table{ overflow:hidden; margin-left:0px !important;}
ul{ outline:none; list-style:none;}
.table li{ width:auto; float:left;overflow:hidden; margin-bottom:10px; height:34px;margin-left:5px;}
.label_ad{ font-size:18px; font-weight:700;}
.table a{background: #E3E4E8 none repeat scroll 0% 0%;
border-radius:0px 3px 3px 0px;
color: #858582;
float: left;
padding: 10px;
text-decoration: none;}


</style>

</head>
<body class="sticky-header" style=" background:#EFF0F4 none repeat scroll 0% 0%;">
          <div class="page-heading">
            <h3>
                直播课管理
            </h3>
            <ul class="breadcrumb">
                <li>
                    <a href="__URL__/table_zhibo">直播课列表</a>
                </li>
                <li class="active"> 添加直播课 </li>
            </ul>
        </div>
         <div class="row" style="padding-top:0px; margin-left:0px;" >
            <div class="col-lg-6" style="width:99%;">
                <section class="panel">
                    <header class="panel-heading">
                       添加直播课
                    </header>
         <form name="form1" action="__URL__/upload_zhibo" enctype="multipart/form-data" method="post" >
                    <div class="panel-body">

                            <div class="form-group" style="width:100%;">
                                <label for="exampleInputEmail1">直播课名称</label>
                                <input type="text" name="name" style="width:80%;" class="form-control" id="exampleInputEmail1" placeholder="请输入直播课名称">
                            </div>
                            <div class="form-group" style="width:100%;">
                                <label for="exampleInputEmail1">直播简称</label>
                                <input type="text" name="forshort" style="width:80%;" class="form-control" id="exampleInputEmail1" placeholder="请输入直播简称" >
                            </div>
                            <div class="form-group" style="overflow:hidden;">
                                    <label class="control-label col-md-3" style=" width:100%;padding:0 !important;">开课时间</label>
                                    <div class="col-md-4" style="width:80%;padding:0 !important;">
                                        <input class="datainp" id="indate" type="text" placeholder="只显示年月" value="" style="display:none;"  readonly>
<input style="width:100%;" type="text" size="16"name="time" id="dateinfo" type="text" placeholder="请选择"  readonly class="form_datetime form-control">
                                    </div>
                            </div>
                            <div class="form-group" style="overflow:hidden;">
                                    <label class="control-label col-md-3" style=" width:100%;padding:0 !important;">结束时间</label>
                                    <div class="col-md-4" style="width:80%;padding:0 !important;">
                                        <input class="datainp" id="indate1" type="text" placeholder="只显示年月" value="" style="display:none;"  readonly>
<input style="width:100%;" type="text" size="16"name="end_time" id="dateinfo1" type="text" placeholder="请选择"  readonly class="form_datetime form-control">
                                    </div>
                            </div>
                            <div class="form-group" style="width:100%;">
                                <label for="exampleInputEmail1">直播系列名称</label>
                                <input type="text" name="zhibo_series" style="width:80%;" class="form-control" id="exampleInputEmail1" placeholder="请输入直播系列名称" >
                            </div>
                        <div class="form-group" style="width:100%; height:40px;">
                            <div class="btn-group pull-right" style="float:left !important;">
                                <button class="btn btn-default dropdown-toggle" style=" width:130px; " data-toggle="dropdown" id="zhibo_zhuanti">选择直播专题
                                </button>
                                <ul class="dropdown-menu pull-right" style="right: -37px !important;">
                                    <volist name="zhuanti_list_zhibo" id="voz">
                                        <li><a href="javascript:;" onclick="set_zhibo_zhuanti()">{$voz.title}</a> </li>
                                        <p style="display: none" id="voz_id">{$voz.id}</p>
                                        <p style="display: none" id="voz_title">{$voz.title}</p>

                                    </volist>
                                </ul>
                            </div>
                        </div>
                            <div class="form-group" style="width:100%;">
                                <label for="exampleInputEmail1">直播课程所属次序</label>
                                <input type="text" name="order" style="width:80%;" class="form-control" id="exampleInputEmail1" placeholder="请输入直播次序(阿拉伯数字)" >
                            </div>
                            <div class="form-group" style="width:100%;">
                                <label for="exampleInputEmail1">地点</label>
                                <input type="text" name="place" style="width:80%;" class="form-control" id="exampleInputEmail1" placeholder="请输入直播地点">
                            </div>
                            <div class="form-group" style="width:100%;">
                                <label for="exampleInputEmail1">语言</label>
                                <input type="text" name="lang" style="width:80%;" class="form-control" id="exampleInputEmail1" placeholder="请输入直播语言">
                            </div>
                            <div class="form-group" style="width:100%;">
                                <label for="exampleInputEmail1">添加直播链接</label>
                                <input type="text" name="zhibo_url" style="width:80%;" class="form-control" id="exampleInputEmail1" placeholder="例：http://www.baidu.com">
                            </div>
                            <div class="form-group" style="width:100%;">
                                <label for="exampleInputEmail1">优先级</label>
                                <input type="text" name="youxianji" style="width:80%;" class="form-control" id="exampleInputEmail1" placeholder="">
                            </div>
                            <div class="form-group" style="width:100%;">
                                <label for="exampleInputEmail1">加入直播所需积分数</label>
                                <input type="text" name="cost" style="width:80%;" class="form-control" id="exampleInputEmail1" placeholder="请输入加入直播所需积分数">
                            </div>
                            
                            
                            <!--<div class="form-group">
                                <label for="exampleInputFile">上传封面</label>
                                <input type="file" id="exampleInputFile" name="photo">
                                <p style="color:#ee0f19;" class="help-block">＊图片规格450x270px</p>
                            </div>-->
                            <div class="form-group">
                                <label for="exampleInputFile" style="color:#ff2a00">上传视频封面图</label>
                                <input type="file" id="exampleInputFile_cover" name="photo_cover">
                                <p style="color:#ee0f19;" class="help-block">＊图片规格640x330px</p>
                            </div>
                            <div class="form-group">
                                <label for="exampleInputFile">上传视频框图</label>
                                <input type="file" id="exampleInputFile" name="photo_userout">
                                <p style="color:#ee0f19;" class="help-block">＊图片规格640x330px</p>
                            </div>


                              <div class="form-group ">
                                        <label style=" width:100%;padding:0 !important;" for="ccomment" class="control-label col-lg-2">直播课标签</label>
                       <div class="panel-body">
                                            <ul style="margin-left:-30px !important;" class="table">
                                                  
                                                  <li onClick="tianjiajiaoshi();"> <button type="button"  style="margin-left:5px;" class="btn btn-primary" id="button_jiaoshi" >
                                                  添加主讲教师+
                            </button></li>
                        </ul>
                    		</div>
                             </div>
                             <div id="jiaoshi" style="width:100%; display:none;" >
                             <ul  id="jiaoshi_ul" style="margin-left:0px !important;" class="table">
                             
                             	
                             
                             
                             </ul>
                             <a href="javascript:;" onClick="del_jiaoshi();"><button type="button"  style=" margin-left:50px;  margin-top: 20px; margin-bottom: 20px; float: left;" class="btn btn-primary">
                             	清除主讲教师
                             </button>
                             </a>
                             </div>
                             <div class="form-group ">
                                        <label style=" width:100%;padding:0 !important;" for="ccomment" class="control-label col-lg-2">主办方</label>
                                        <div class="col-lg-10" style=" width:100%;padding:0 !important;">
                                            <textarea  class="form-control " id="ccomment" name="zhubanfang" required></textarea>
                                        </div>
                             </div>
                             <div class="form-group ">
                                        <label style=" width:100%;padding:0 !important;" for="ccomment" class="control-label col-lg-2">直播课简介</label>
                                        <div class="col-lg-10" style=" width:100%;padding:0 !important;">
                                            <textarea  class="form-control " id="ccomment" name="jianjie" required></textarea>
                                        </div>
                             </div>
                             
                             
                
              </div>
              <input style="display:none" type="text" autocomplete="off" name="biaoqian" id="biaoqian_value" value="" />
              <input style="display:none" type="text" autocomplete="off" name="jiaoshi" id="jiaoshi_value" value="" />
              <input style="display:none" type="text" autocomplete="off" name="kechengbao" id="kechengbao_value" value="" />
              <input style="display:none" type="text" autocomplete="off" name="type_value" id="type_value" value="" />
             <input style="display:none" type="text" autocomplete="off" name="zhibo_zhuanti_value" id="zhibo_zhuanti_value" value="" />
             <input style="display:none" type="text" autocomplete="off" name="shangke_value" id="shangke_value" value="" />
                            
</form>
                             
                            <button  style="width:150px !important; margin-left:40px; " type="submit" class="btn btn-primary" onClick="change();" >提交</button>
                        

                    </div>
                </section>
            </div>
</div>


</body>
</html>
<script src="__PUBLIC__/houtaikecheng/js/jquery-1.10.2.min.js"></script>
<script src="__PUBLIC__/houtaikecheng/js/jquery-ui-1.9.2.custom.min.js"></script>
<script src="__PUBLIC__/houtaikecheng/js/jquery-migrate-1.2.1.min.js"></script>
<script src="__PUBLIC__/houtaikecheng/js/bootstrap.min.js"></script>
<script src="__PUBLIC__/houtaikecheng/js/modernizr.min.js"></script>
<script src="__PUBLIC__/houtaikecheng/js/jquery.nicescroll.js"></script>


<script type="text/javascript" src="__PUBLIC__/jedate/jedate.js"></script>
<script type="text/javascript"> 
    //jeDate.skin('gray');
	jeDate({
		dateCell:"#indate",//isinitVal:true,
		format:"YYYY-MM",
		isTime:false, //isClear:false,
		minDate:"2015-10-19 00:00:00",
		maxDate:"2016-11-8 00:00:00"
	})
    jeDate({
		dateCell:"#dateinfo",
		format:"YYYY-MM-DD hh:mm:ss",
		isinitVal:true,
		isTime:true, //isClear:false,
		minDate:"2014-09-19 00:00:00",
		okfun:function(val){alert(val)}
	})
	    //jeDate.skin('gray');
	jeDate({
		dateCell:"#indate1",//isinitVal:true,
		format:"YYYY-MM",
		isTime:false, //isClear:false,
		minDate:"2015-10-19 00:00:00",
		maxDate:"2016-11-8 00:00:00"
	})
    jeDate({
		dateCell:"#dateinfo1",
		format:"YYYY-MM-DD hh:mm:ss",
		isinitVal:true,
		isTime:true, //isClear:false,
		minDate:"2014-09-19 00:00:00",
		okfun:function(val){alert(val)}
	})
function change()
{
	document.form1.submit();	
} 
function tianjiakechengbao()
{

	var div = document.getElementById('kechengbao').style.display;
	
	if(div=='none')
	{
		var a=document.getElementById('kechengbao');
		
		a.style.display="block";
		
		document.getElementById("button_kechengbao").innerHTML="收起直播课包-";
		
	}
	else
	{
		var a=document.getElementById('kechengbao');
		
		a.style.display="none";	
		
		document.getElementById("button_kechengbao").innerHTML="添加直播课包+";
				
	}
		var va=document.getElementById('kechengbao_value').value;
		
		if(!(va))
		{	
			getkechengbao();
		}
		

}

function set_zhibo_zhuanti() {

    var id = $("#voz_id").text();
    var title = $("#voz_title").text();

    var str='<i class="fa fa-angle-down"></i>';

    document.getElementById("zhibo_zhuanti").innerHTML=title+str;

    document.getElementById("zhibo_zhuanti_value").value = id;
}

function tianjiabiaoqian()
{

	var div = document.getElementById('biaoqian').style.display;
	
	if(div=='none')
	{
		var a=document.getElementById('biaoqian');
		
		a.style.display="block";
		
		document.getElementById("button_biaoqian").innerHTML="收起标签-";
		
	}
	else
	{
		var a=document.getElementById('biaoqian');
		
		a.style.display="none";	
		
		document.getElementById("button_biaoqian").innerHTML="添加标签+";
				
	}
		var va=document.getElementById('biaoqian_value').value;
		
		if(!(va))
		{
			gettag();
		}
		

}
function tianjiajiaoshi()
{

	var div = document.getElementById('jiaoshi').style.display;
	
	if(div=='none')
	{
		var a=document.getElementById('jiaoshi');
		
		a.style.display="block";
		
		document.getElementById("button_jiaoshi").innerHTML="收起主讲教师-";
		
	}
	else
	{
		var a=document.getElementById('jiaoshi');
		
		a.style.display="none";	
		
		document.getElementById("button_jiaoshi").innerHTML="添加主讲教师+";
				
	}
	var va=document.getElementById('jiaoshi_value').value;
		
	if(!(va))
	{
		getteacher()
	}

}
function getkechengbao()
{
	$.post("__URL__/getkechengbao", 
		function(data,status)
			{
				var str= '';
				var data = eval('('+data+')');
				if(data)
				{
					for(var x in data){
					var a = data[x]['name'];
					var b = data[x]['id'];
					var c = data[x]['code'];
					var str='<li > <button type="button"  style="margin-left:5px;  background-color: #06F;" class="btn btn-primary" id="kechengbao'+b+'" onClick="addkechengbao('+b+','+c+')" >'+a+'</button></li>'+str;
					
					}
					document.getElementById("kechengbao_ul").innerHTML = str;
				}
				else
				{
					alert('未知错误');	
				}
			}
		   );	
}
function gettag()
{
	$.post("__URL__/gettag/", 
		function(data,status)
			{
				var str= '';
				var data = eval('('+data+')');
				if(data)
				{
					for(var x in data){
					var a = data[x]['name'];
					var b = data[x]['id'];
					var c = data[x]['code'];
					var str='<li > <button type="button"  style="margin-left:5px;  background-color: #06F;" class="btn btn-primary" id="'+b+'" onClick="bianse('+b+','+c+')" >'+a+'</button></li>'+str;
					
					}
					document.getElementById("bianhao_ul").innerHTML = str;
				}
				else
				{
					alert('未知错误');	
				}
			}
		   );	
}
function getteacher()
{
	$.post("__URL__/getteacher/", 
		function(data,status)
			{
				var str= '';
				var data = eval('('+data+')');
				if(data)
				{
					for(var x in data){
					var a = data[x]['name'];
					var b = data[x]['id'];
					var str='<li > <button type="button"  style="margin-left:5px;  background-color: #06F;" class="btn btn-primary" id="t'+b+'" onClick="bianse_jiaoshi('+b+')" >'+a+'</button></li>'+str;
					
					}
					document.getElementById("jiaoshi_ul").innerHTML = str;
				}
				else
				{
					alert('未知错误');	
				}
			}
		   );	
}
function bianse(id,code)
{
	
	var div=document.getElementById(id);	
	div.style.backgroundColor="#374152";
	var va=document.getElementById('biaoqian_value').value;
	if(va)
	{
		var str='{"id":"'+id+'","code":"'+code+'"},'+va;
	}
	else
	{
		var str='{"id":"'+id+'","code":"'+code+'"}';
	}
	var vb=document.getElementById('biaoqian_value').value=str;
	
}
function addkechengbao(id,code)
{
	
	var div=document.getElementById('kechengbao'+id);	
	div.style.backgroundColor="#374152";
	var va=document.getElementById('kechengbao_value').value;
	if(va)
	{
		var str='{"id":"'+id+'","code":"'+code+'"},'+va;
	}
	else
	{
		var str='{"id":"'+id+'","code":"'+code+'"}';
	}
	var vb=document.getElementById('kechengbao_value').value=str;
	
}
var nu_bianse_jiaoshi=1;
function bianse_jiaoshi(id)
{
	
	var div=document.getElementById('t'+id);
	var color=div.style.backgroundColor;
	if(color=="rgb(55, 65, 82)")
	{
		return;	
	}	
	div.style.backgroundColor="#374152";
	var str_in=div.innerHTML;
	div.innerHTML=window.nu_bianse_jiaoshi+'.'+str_in;
	window.nu_bianse_jiaoshi++;
	
	var va=document.getElementById('jiaoshi_value').value;
	if(va)
	{
		var str=va+',{"id":"'+id+'"}';
	}
	else
	{
		var str='{"id":"'+id+'"}';
	}
	var vb=document.getElementById('jiaoshi_value').value=str;
	
	
}
function del()
{
	gettag();
	document.getElementById('biaoqian_value').value='';
}
function del_kechengbao()
{
	getkechengbao();
	document.getElementById('kechengbao_value').value='';
}
function del_jiaoshi()
{
	getteacher();
	window.nu_bianse_jiaoshi=1;
	document.getElementById('jiaoshi_value').value='';
}
function shangke(a)
{
	var str='<i class="fa fa-angle-down"></i>';
	
	if(a==1)
	{

		document.getElementById("shangke").innerHTML="站内课"+str;
			
		document.getElementById("shangke_value").value=1;
	}
	
	if(a==0)
	{

		document.getElementById("shangke").innerHTML="站内课"+str;
			
		document.getElementById("shangke_value").value=0;
	}
	if(a==2)
	{

		document.getElementById("shangke").innerHTML="站外课"+str;
			
		document.getElementById("shangke_value").value=2;
	}
	if(a==3)
	{

		document.getElementById("shangke").innerHTML="站外课"+str;
			
		document.getElementById("shangke_value").value=3;
	}		
	
}
function type1(a)
{
	var str='<i class="fa fa-angle-down"></i>';
	
	if(a==0)
	{

		document.getElementById("type").innerHTML="显示连载课"+str;
	}
	if(a==1)
	{

		document.getElementById("type").innerHTML="隐藏连载课"+str;
	}		
	
	document.getElementById("type_value").value=a;
}
</script> 