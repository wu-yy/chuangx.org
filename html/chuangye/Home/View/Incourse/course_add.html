<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!--  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">-->
  <meta name="description" content="">
  <meta name="author" content="ThemeBucket">
  <link rel="shortcut icon" href="#" type="image/png">

  <title>Dynamic Table</title>

  <!--dynamic table-->
  <link rel="stylesheet" type="text/css" href="__PUBLIC__/houtaikecheng/js/bootstrap-wysihtml5/bootstrap-wysihtml5.css" />
  <link href="__PUBLIC__/houtaikecheng/js/advanced-datatable/css/demo_page.css" rel="stylesheet" />
  <link href="__PUBLIC__/houtaikecheng/js/advanced-datatable/css/demo_table.css" rel="stylesheet" />
  <link rel="stylesheet" href="__PUBLIC__/houtaikecheng/js/data-tables/DT_bootstrap.css" />
  <!--pickers css-->
  <link rel="stylesheet" type="text/css" href="__PUBLIC__/houtaikecheng/js/bootstrap-datepicker/css/datepicker-custom.css" />
  <link rel="stylesheet" type="text/css" href="__PUBLIC__/houtaikecheng/js/bootstrap-timepicker/css/timepicker.css" />
  <link rel="stylesheet" type="text/css" href="__PUBLIC__/houtaikecheng/js/bootstrap-colorpicker/css/colorpicker.css" />
  <link rel="stylesheet" type="text/css" href="__PUBLIC__/houtaikecheng/js/bootstrap-daterangepicker/daterangepicker-bs3.css" />
  <link rel="stylesheet" type="text/css" href="__PUBLIC__/houtaikecheng/js/bootstrap-datetimepicker/css/datetimepicker-custom.css" />

  <link href="__PUBLIC__/houtaikecheng/css/style.css" rel="stylesheet">
  <link href="__PUBLIC__/houtaikecheng/css/style-responsive.css" rel="stylesheet">
  <link href="__PUBLIC__/houtaikecheng/css/style.css" rel="stylesheet">
  <link href="__PUBLIC__/houtaikecheng/css/style-responsive.css" rel="stylesheet">
<style>
.to-do-list li p{ font-size:16px;}
</style>
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="__PUBLIC__/houtaikecheng/js/html5shiv.js"></script>
  <script src="__PUBLIC__/houtaikecheng/js/respond.min.js"></script>
  <![endif]-->
</head>
<body class="sticky-header" style=" background:#EFF0F4 none repeat scroll 0% 0%;">
          <div class="page-heading">
            <h3>
                课程管理
            </h3>
            <ul class="breadcrumb">
                <li>
                    <a href="#">课程列表</a>
                </li>
                <li class="active"> 添加课程 </li>
            </ul>
        </div>
<!--         <div class="row" style="padding-top:0px; margin-left:0px;" >
            <div class="col-lg-6" style="width:99%;">-->
         <div class="col-md-4" style="width:100%;">
                    <div class="panel">
                        <header class="panel-heading">
                            课程章节
                            
                        </header>
                        <div class="panel-body">
                        <form class="form-inline" name="form1" id="form1" action="__URL__/upload_zhangjie"  method="post">
                        
                            <ul class="to-do-list" id="sortable-todo">
                            	
                               <li class="clearfix" id="li1">
                                    <p class="todo-title">
                                        <input type="text" placeholder="请输入章节名称" class="form-control" name="zhangjiename[1]" style="width: 100%;" onChange="add_xiaojie(1);">
                                    </p>
                                    <div class="row" id="div1"; style=" margin-top:20px; ">
                                         <div class="col-md-12 zjxj1" id="adds1"  >
                                             
                                             
                                             <!--添加小节-->
                                               <div class="form-group todo-entry" style="float:left !important;" >
                                                <input type="text" placeholder="请输入小节名称" name="xiaojiename[1][1]" class="form-control" style="width: 100%;">
                                                
                                                </div>
                                                <!--添加小节-->
                                               <button class="btn btn-primary pull-right"  style="float:left !important; margin-left:15px;" type="button" onClick="add_xiaojie1(1,1)">添加小节课程+</button>
                                               
                                               
                                               <div class="row" id="div1"; style=" margin-top:50px; ">
                                         <div class="col-md-12" id="adds11">
                                             
                                             
                                             <!--添加小节-->
                                             <div class="form-group todo-entry" style="float:left !important;" >
                                             <input type="text" placeholder="请输入视频名称" name="shipin_name[1][1][]" class="form-control" style="width: 100%; ">
                                              <input type="text" placeholder="已有视频地址？请输入视频链接" name="shipin_url1[1][1][]" class="form-control" style="width: 100%; margin-top:15px;">
                                              
                                              <div style="width:100%; float:left; margin-top:10px;">
                                                
                                                    <label style="width:16%;float:left; margin-right:0px !important;" class="control-label col-md-3">上传视频图片:</label>
                                                   <div class="col-md-4" style="float:left; width:80%;">
                                                    <input type="file" class="default"  name="photo[1][1][]"/>
                                                     </div>
                                                     
                                                     <label style="width:16%;float:left; margin-right:0px !important;" class="control-label col-md-3">上传视频:</label>
                                                   <div class="col-md-4" style="float:left; width:50%; ">
                                                    <input type="file" class="default"  name="void[1][1][]"/>
                                                     </div>
                                              </div>
                                               </div>
                                                <button class="btn btn-primary pull-right"  style="float:left !important; margin-left:15px;" type="button" onClick="add_shipin(1,1,1)" style=" float:left;">添加视频+</button>
                                          		</div>
                                        
                                     </div> 
                                     
                                     
                                     
                                     
                                     </div>
                                     
                                     
                                     
                                    
                                     
                                     
                                                <!--添加小节-->
                                             </div>  
                                             
                                      
                                      
                              
                                </li>
                                
                                 <button style="float:left !important; margin:15px 10px;" class="btn btn-primary pull-right" type="button" onClick="add_zhangjie();" >添加章节课程+</button>
                                     <span class="tools pull-right" style=" float:right; margin-right:22px; margin-top:20px;">
                                	<a class="fa fa-chevron-down" href="javascript:;"></a>
                                	<a class="fa fa-times" href="javascript:;"></a>
                             	</span>
                            </ul>
                            <input type="text"   name="nu" id="nu" style="display:none;" value="1"/>

                        </div>
                        <footer  style="border-top: 1px solid rgba(0, 0, 0, 0.2);padding: 15px;">
                            <div class="btn-group">
                        <button id="editable-sample_new"  class="btn btn-primary" onClick="sub();" >
                            确定提交
                        </button>
                    </div>
                        </footer>
                    </div>   
                </div>
                <!--定义章节标志位-->
                <input type="hidden" id="zjbz" value="1">
                 
                 <div class="weq"></div>
                 <div class="weq"></div>
                 <div class="weq"></div>
                 
                
                             </form>
                             
</body>
</html>
   <script src="__PUBLIC__/js/index/jquery1.9.1.js" type="text/javascript"></script>
<script>
	
	var i=1;
	//参数：章节，小节
	//方法：添加视频
	function add_shipin(zj,xj){
		//alert(123);
		var ss="<div class='form-group todo-entry' style='float:left !important;' ><input placeholder='请输入视频名称' name='shipin_name["+zj+"]["+xj+"][]' class='form-control' style='width: 100%; ' type='text'><input class='form-control' style='width: 100%; margin-top:10px; ' type='text' placeholder='请输入视频链接' name='shipin_url1["+zj+"]["+xj+"][]' /><div style='width:100%; float:left; margin-top:10px;'><label style='width:16%;float:left; margin-right:0px !important;' class='control-label col-md-3'>上传视频图片:</label><div class='col-md-4' style='float:left; width:80%;'><input type='file' class='default'  name='photo["+zj+"]["+xj+"][]'/></div><label style='width:16%;float:left; margin-right:0px !important;' class='control-label col-md-3'>上传视频:</label><div class='col-md-4' style='float:left; width:50%; '><input type='file' class='default'  name='void["+zj+"]["+xj+"][]'/></div></div></div>";

		
		$("#adds"+zj+xj).append(ss);



		}
	
	function add_xiaojie1(zjbz)
	{
		//zjbz表示章节标志位
		//alert(zjbz);
		//得到小节
		var xjnum=Number($(".zjxj"+zjbz).length);
		//目前的小节
		var xiaojieid=xjnum+1;
		var str='<div class="col-md-12 zjxj'+zjbz+'" id="adds'+zjbz+xiaojieid+'"   ><div class="form-group todo-entry" style="float:left !important;" ><input type="text" placeholder="请输入小节名称" name="xiaojiename['+zjbz+']['+xiaojieid+']" class="form-control" style="width: 100%; margin-top:15px;"><input placeholder="请输入视频名称" name="shipin_name['+zjbz+']['+xiaojieid+'][]" class="form-control" style="width: 100%; margin-top:15px;" type="text"><input type="text" placeholder="请输入视频链接" name="shipin_url1['+zjbz+']['+xiaojieid+'][]" class="form-control" style="width: 100%; margin-top:15px;"><div style="width:100%; float:left; margin-top:10px;"><label style="width:16%;float:left; margin-right:0px !important;" class="control-label col-md-3">上传视频图片:</label><div class="col-md-4" style="float:left; width:80%;"><input type="file" class="default"  name="photo['+zjbz+']['+xiaojieid+'][]"/> </div><label style="width:16%;float:left; margin-right:0px !important;" class="control-label col-md-3">上传视频:</label><div class="col-md-4" style="float:left; width:50%; "><input type="file" class="default"  name="void['+zjbz+'][1][]"/></div></div></div>  <button class="btn btn-primary pull-right"  style="float:left !important; margin-left:15px;" type="button" onClick="add_shipin('+zjbz+','+xiaojieid+')" style=" float:left;">添加视频+</button></div>';
		//alert(str);
		$("#adds"+zjbz+xjnum).after(str);

	
	}
	
	
	function add_zhangjie()
	{
		var zjbz=Number($("#zjbz").val())+1;//获得章节标志位
		
		window.i=window.i+1;
		var cv=window.i;
			
			document.getElementById("nu").value=cv;
			
			var str='<li class="clearfix" id="li'+i+'"><p class="todo-title"><input type="text" placeholder="请输入章节名称" class="form-control" name="zhangjiename['+zjbz+']" style="width: 100%;" onChange="add_xiaojie('+i+');"></p><div class="row" id="div'+i+'"; style=" margin-top:20px; "><div class="col-md-12 zjxj'+zjbz+'" id="adds'+zjbz+'1"   ><div class="form-group todo-entry" style="float:left !important;" ><input type="text" placeholder="请输入小节名称" name="xiaojiename['+zjbz+'][1]" class="form-control" style="width: 100%;"><input placeholder="请输入视频名称" name="shipin_name['+zjbz+'][1][]" class="form-control" style="width: 100%; margin-top:15px;" type="text"><input type="text" placeholder="请输入视频链接" name="shipin_url1['+zjbz+'][1][]" class="form-control" style="width: 100%; margin-top:15px;"><div class="form-group" style="width:100%; margin-top:15px; margin-bottom:20px;"><label style="width:16%;float:left; margin-right:0px !important;" class="control-label col-md-3">上传视频图片:</label><div class="col-md-4" style="float:left; width:80%;"> <input type="file" class="default"  name="photo['+zjbz+'][1][]"/></div><label style="width:16%;float:left; margin-right:0px !important;" class="control-label col-md-3">上传视频:</label><div class="col-md-4" style="float:left; width:50%; "><input type="file" class="default"  name="void['+zjbz+'][1][]"/></div></div></div><button class="btn btn-primary pull-right"  style="float:left !important; margin:15px 10px;" type="button" onClick="add_xiaojie1('+zjbz+')">添加小节课程+</button></div></div></li>';
			
			var a=window.i-1;
			
			$("#li"+a).after(str);
	}
	function sub()
	{
		
		$('form1').submit();
	}
</script>
